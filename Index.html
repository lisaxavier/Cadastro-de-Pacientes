<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sistema OptoClear</title>
  <style>
    body { margin:0; background:#000; color:#fff; font-family:Arial,sans-serif;}
    .sidebar {
      position: fixed; left: 0; top: 0; height: 100vh; width: 250px;
      background: #17171b;
      box-shadow: 2px 0 19px #000a;
      z-index: 999;
      display: flex; flex-direction: column;
      transform: translateX(-255px); transition: transform .33s cubic-bezier(.92,0,.28,1);
    }
    .sidebar.aberta { transform: translateX(0);}
    .sidebar h1 {
      text-align: center; color: #ffd700; letter-spacing: 2px; font-size: 1.25em; font-weight: bold; margin:8px 0 0 0;
    }
    .sidebar nav {
      flex:1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 23px;
      min-height: 0;
      margin: 0 22px;
    }
    .sidebar a {
      width: 100%;
      text-decoration: none;
      color: #fff;
      font-size: 1.07em;
      font-weight: bold;
      padding: 13px 12px;
      border-radius: 7px;
      text-align: center;
      transition: background .18s, color .17s;
      border: none; background:none; cursor:pointer; outline:none;
      display: block;
    }
    .sidebar a:hover, .sidebar a:focus { background: #ffd70022; color: #ffd700; }
    .sidebar a.active { background: #ffd70066; color: #000; }
    .close-btn {
      position:absolute; top:12px; right:14px;
      background: none; border:none; font-size:1.2em; color: #ffd700; cursor: pointer; padding:2px 7px 3px 7px;
      z-index: 9; border-radius:4px; transition: background .2s, color .2s;
    }
    .close-btn:hover { background: #ffd70022; color: #fff;}
    .open-btn {
      position: fixed; left: 12px; top: 18px; z-index: 101;
      background: #161616; border:none; border-radius: 5px; color: #ffd700; box-shadow:0 1px 8px #3337;
      font-size: 1.38em; cursor:pointer; padding: 3px 9px 4px 9px; 
      display: block; transition: background .17s, color .12s;
      outline: none;
    }
    .open-btn:active { background: #ffd70033;}
    .open-btn.hide { display:none;}
    main {
      margin-left: 0;
      min-height: 100vh;
      padding: 0;
      transition: margin-left .2s;
      background: #111;
      box-sizing: border-box;
      overflow: hidden;
    }
    .sidebar.aberta ~ main {
      margin-left: 250px;
    }
    .content-iframe {
      width: 100%;
      height: 100vh;
      border: none;
      background: transparent;
    }
    @media (max-width: 750px) {
      .sidebar,.sidebar.aberta ~ main { width:82vw; min-width:110px;}
      .sidebar { max-width:96vw;}
      .sidebar.aberta ~ main { margin-left: 82vw;}
    }
    @media (max-width: 480px) {
      .sidebar { width:98vw;  }
      .sidebar.aberta ~ main { margin-left: 98vw;}
    }
  </style>
</head>
<body>
  <button class="open-btn" id="openNav">&#9776;</button>
  <div class="sidebar" id="sidebarMenu">
    <button class="close-btn" id="closeNav" aria-label="fechar menu">&times;</button>
    <h1>Menu</h1>
    <nav>
      <a href="cadastro.html" data-cont="Cadastro" id="btn-cadastro">Cadastro</a>
      <a href="consulta.html" data-cont="Consulta" id="btn-consulta">Consulta</a>
      <a href="consulta-edicao.html" data-cont="Consulta e Edição" id="btn-consulta-edicao">Consulta e Edição</a>
      <a href="roi.html" data-cont="Relatório de ROI" id="btn-roi">Relatório de ROI</a>
      <a href="passivo.html" data-cont="Passivo" id="btn-passivo">Passivo</a>
    </nav>
  </div>
  <main>
    <iframe src="cadastro.html" id="conteudo" name="conteudo" class="content-iframe"></iframe>
  </main>
  <script>
    const openBtn = document.getElementById('openNav');
    const closeBtn = document.getElementById('closeNav');
    const sidebar = document.getElementById('sidebarMenu');
    const iframe = document.getElementById('conteudo');
    // Abrir menu
    openBtn.onclick = ()=>{
      sidebar.classList.add('aberta');
      openBtn.classList.add('hide');
    };
    // Fechar menu
    closeBtn.onclick = ()=>{
      sidebar.classList.remove('aberta');
      openBtn.classList.remove('hide');
    };
    // Carregar páginas no iframe com botões
    document.querySelectorAll('.sidebar nav a').forEach(link=>{
      link.addEventListener('click',function(e){
        e.preventDefault();
        // Marcar ativo
        document.querySelectorAll('.sidebar nav a').forEach(a=>a.classList.remove('active'));
        link.classList.add('active');
        iframe.src = link.getAttribute('href');
        sidebar.classList.remove('aberta');
        openBtn.classList.remove('hide');
      });
    });
    // Marcar primeira ativa ao carregar
    document.querySelector('.sidebar nav a').classList.add('active');
    // Permite voltar para o menu pelo botão apenas
    // (não oculta clicando fora do menu!)

    // Deixa iframe sempre do tamanho vertical da tela
    function ajustaAlturaIframe(){
      iframe.style.height = window.innerHeight+"px";
    }
    window.addEventListener('resize', ajustaAlturaIframe);
    ajustaAlturaIframe();
  </script>
</body>
</html>
